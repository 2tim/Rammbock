*** Settings ***
Test Setup        Define example protocol
Test Teardown     Teardown rammbock and increment port numbers
Default Tags      regression
Resource          ../Protocols.txt

*** Test Cases ***
encoding single value with even amount of numbers
    New message    tbcd testing    Example    messageType:0xdddd
    new tbcd container    tbcd_cont
    tbcd   4    digits    1234
    end tbcd container
    ${msg}=    Get Message
    should be equal    ${msg.tbcd_cont.digits.tbcd}    1234

decoding single value with even amount of numbers
    [Setup]    Define protocol, start tcp server and two clients    Example
    New message    tbcd testing    Example    messageType:0xdddd
    new tbcd container    tbcd_cont
    tbcd   4    digits    1234
    end tbcd container
    client sends message
    ${msg}=    server receives message
    should be equal    ${msg.tbcd_cont.digits.tbcd}    1234

encoding single value with odd amount of numbers
    New message    tbcd testing    Example    messageType:0xdddd
    new tbcd container    tbcd_cont
    tbcd   5    digits    12345
    end tbcd container
    ${msg}=    Get Message
    should be equal    ${msg.tbcd_cont.digits.tbcd}    12345

encoding multiple values with even amount of numbers
    New message    tbcd testing    Example    messageType:0xdddd
    new tbcd container    tbcd_cont
    tbcd   4    first     1234
    tbcd   4    second    5678
    end tbcd container
    ${msg}=    Get Message
    should be equal    ${msg.tbcd_cont.first.tbcd}     1234
    should be equal    ${msg.tbcd_cont.second.tbcd}    5678

encoding multiple values with odd amount of numbers
    New message    tbcd testing    Example    messageType:0xdddd
    new tbcd container    tbcd_cont
    tbcd   4    first     1234
    tbcd   5    second    56789
    end tbcd container
    ${msg}=    Get Message
    should be equal    ${msg.tbcd_cont.first.tbcd}     1234
    should be equal    ${msg.tbcd_cont.second.tbcd}    56789
