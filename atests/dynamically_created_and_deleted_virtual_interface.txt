As a tester I want to run test cases through dynamically generated virtual interface so that I can simulate multiple network elements.

*** Settings ***
Library  ../src/Rammbock.py

*** Test Case ***

Creating virtual Interface   
  When Rammbock allocates first virtual interface dynamically
  Then new virtual interface is created

Deleting interface
  Given Rammbock allocates first virtual interface dynamically
  And new virtual interface is created
  When test case ends
  Then virtual interface is deleted

Creating two dynamically allocated interfaces
  Given Rammbock allocates first virtual interface dynamically
  when Rammbock allocates second virtual interface dynamically
  then two virtual interfaces are created

Deleting two dynamically allocated interfaces
  Given Rammbock allocates first virtual interface dynamically
  and Rammbock allocates second virtual interface dynamically
  and two virtual interfaces are created
  When test case ends
  Then virtual interfaces are deleted
    
Creating physical Interface  
  When Rammbock is using physical interface
  Then defined physical interface is used in test case.

*** Keyword ***
Rammbock allocates first virtual interface dynamically
  use_interface  TEST1  eth0  1.1.1.1  255.255.255.255  True

Rammbock allocates second virtual interface dynamically
  use_interface  TEST2 eth0  1.1.1.2  255.255.255.255  True

new virtual interface is created
  interface is up  TEST1

test case ends
  Log  "No test case here!"

virtual interface is deleted
  delete interface  TEST1
  ${interface_state}=   is_interface_up  TEST1
  Should Not Be True   ${interface_state}
   
two virtual interfaces are created
  interface is up  TEST1
  interface is up  TEST2

interface is up  [Arguments]  ${ifname}
  ${interface_state}=   is_interface_up  ${ifname}
  Should Be True   ${interface_state}
