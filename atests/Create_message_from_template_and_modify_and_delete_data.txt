*** Settings ***
Library       rammbock.Rammbock
Resource      resources/Messaging.txt 
Test Setup    Use Application Protocol And Create Message


*** Test Cases ***

Check Header
    ${header}=  Get Header Field  protocol
    Should Be Equal  ${header}  testApplicationProtocol

Check Information Element
    ${ie}=  Get Information Element  message
    Should Be Equal  ${ie}  Hello world!

Check Sub Information Element
    ${ie}=  Get Information Element  nested.test
    Should Be Equal  ${ie}  test

Add Information Element
    Add Information Element  foobar  zig
    ${ie}=  Get Information Element  foobar
    Should Be Equal  ${ie}  zig

Add Sub Information Element
    Add Information Element  foo.bar  zig
    ${ie}=  Get Information Element  foo.bar
    Should Be Equal  ${ie}  zig

Add Header Field
    Add Header Field  host  localhost
    ${header}=  Get Header Field  host
    Should Be Equal  ${header}  localhost

Modify Header
    Modify Header  version  2
    ${header}=  Get Header Field  version
    Should Be Equal  ${header}  2

Modify Information Element
    Modify Information Element  message  Hello Ilmari!
    ${ie}=  Get Information Element  message
    Should Be Equal  ${ie}  Hello Ilmari!

Modify Sub Information Element
    Modify Information Element  nested.test  testing this out
    ${ie}=  Get Information Element  nested.test
    Should Be Equal  ${ie}  testing this out

Delete Information Element
    Delete Information Element  message
    Run Keyword And Expect Error  *  Get Information Element  message

Delete Sub Information Element
    Delete Information Element  nested.test
    Run Keyword And Expect Error  *  Get Information Element  nested.test

Delete Header Field Which Exists
    Delete Header Field  protocol
    Run Keyword And Expect Error  *  Get Header Field  protocol

Delete header field which does not exist
    Run Keyword And Expect Error  *  Delete Header Field  protocal
    ${header}=  Get Header Field  protocol
    Should Be Equal  ${header}  testApplicationProtocol
