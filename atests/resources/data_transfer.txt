*** Variables ***
${EXPECTED_STRING}  ismo_rulettaa
${HOST}  localhost
${PORT}  3011
${PHYSICAL_INTERFACE}  ${LOOPBACK_DEVICE} 
${VIRTUAL_HOST}  1.1.1.1
${RECEIVED_STRING}  ${EMPTY}
${EXPECTED_MODIFIED_STRING}  ismo_rulettaa_koviten
 
* *** Keywords ***

Server Receives String
    ${RECEIVED_STRING}=  server receive packet over udp
    Set Test Variable  \${RECEIVED_STRING}  ${RECEIVED_STRING}
    Should Be Equal  ${RECEIVED_STRING}  ${EXPECTED_STRING}

Client Sends String
    client send packet over udp  ${EXPECTED_STRING}

Server Modifies String
    Set Test Variable  \${RECEIVED_STRING}  ${RECEIVED_STRING}_koviten

Server Sends Modified String
    server send packet over udp  ${RECEIVED_STRING}

Client Receives String Over
    ${RECEIVED_STRING}=  client receive packet over udp
    Should Be Equal  ${RECEIVED_STRING}  ${EXPECTED_MODIFIED_STRING}
    
Client Sends packet
    client send packet over tcp  ${EXPECTED_STRING}

Server Receives packet
    ${data} =  server receive packet over tcp
    Should be equal  ${data}  ${EXPECTED_STRING}

