*** Settings ***
Suite Setup		SCTP should be supported
Test Setup      SCTP client and server are initialized
Test Teardown   Close Connections
Default Tags    regression
Resource        resources/server_client.txt
Resource        resources/data_transfer.txt

*** Test Cases ***
Send packet from Client to Server
    [Tags]  no-ci
    Client Creates Message And Sends It to Server
    Server Receives message and validates it

Send packet from Client to Server and return it back
    [Tags]  no-ci
    Client creates Message And Sends It To Server
    Server Receives Message and Sends It Back to Client
    Client Receives message and validates It

*** Keywords ***
Client Creates Message And Sends It to Server
    Create Message
    Add String  sctp control message
    Client Sends Data

Server Receives message and validates it
    Server Receives Data
    ${value}=  Read Until
    Should Be Equal  ${value}  sctp control message
    set test variable  ${value}

Server Receives Message and Sends It Back to Client
    Server Receives message and validates it
    Create Message
    Add String  ${value}
    Server sends data

Client Receives message and validates it
    Client Receives Data
    ${value}=  Read Until
    Should Be Equal  ${value}  sctp control message

